{% extends "base.html" %}
{% load render_bundle from webpack_loader %}

{% block main-subtitle %}System prac dyplomowych{% endblock %}

{% block theses_active %} class="active"{% endblock %}


{% block uwr_logo %}
{% endblock %}

{% block all-content %}
<div id="thesis-root">
<div class="d-flex justify-content-between align-items-center">
        <h1 class="d-inline-block">
            {{ thesis.title }}
        </h1>
        {% if user.is_staff or thesis.advisor == request.user.employee %}
            <a class="btn btn-sm btn-outline-info float-right align-bottom" href="{% url 'theses:edit_thesis' thesis.id %}">Edytuj</a>
        {% endif %}
    </div>
    <table class="table table-bordered table-md-responsive d-print-none" id="table-info">
    <colgroup>
        <col class="table-info-type"></col>
    </colgroup>
    <tbody>
        <tr>
            <th scope="row" style="width: 50%">Typ</th>
            <td>
                {{ thesis.get_kind_display }}
            </td>
        </tr>
        <tr>
            <th scope="row">Status</th>
            <td>
                {{ thesis.get_status_display }}
            </td>
        </tr>
        <tr>
            <th scope="row">Promotor</th>
            <td>{% if thesis.advisor %}
                    {{ thesis.advisor }}
                {% else %}
                    Brak
                {% endif %}
            </td>
        </tr>
        <tr>
            <th scope="row">Promotor wspierajÄ…cy</th>
            <td>{% if thesis.supporting_advisor %}
                    {{ thesis.supporting_advisor }}
                {% else %}
                    Brak
                {% endif %}
            </td>
        </tr>
        <tr>
            <th scope="row">Zarezerwowana do</th>
            <td>{% if thesis.reserved_until %}
                    {{ thesis.reserved_until }}
                {% else %}
                    Brak daty rezerwacji
                {% endif %}
            </td>
        </tr>
        <tr>
            <th scope="row">Data dodania</th>
            <td>{{ thesis.added }}</td>
        </tr>
        <tr>
            <th scope="row">Data aktualizacji</th>
            <td>{{ thesis.modified }}</td>
        </tr>
    </tbody>
    </table>
    <h2>Opis pracy dyplomowej</h2>
    {{ thesis.description }}
    {% if board_member %}
    <h2 class="mt-4">Uwagi</h2>
        {% for remark in thesis.rejection_reasons.all %}
        <h5>- {{ remark.author }}:</h5>
        <p>{{ remark.text }}</p>
        {% endfor %}
    {% endif %}
</div>
{% endblock %}